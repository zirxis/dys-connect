<!-- Ù…Ù„Ù Ø§Ø®ØªØ¨Ø§Ø± Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© - Test Authentication System -->
<!-- ÙŠÙ…ÙƒÙ†Ùƒ ÙØªØ­ Ù‡Ø°Ø§ Ø§Ù„Ù…Ù„Ù ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù… Ù…Ø¨Ø§Ø´Ø±Ø© -->
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ø®ØªØ¨Ø§Ø± Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© - DYS-CONNECT</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: 'Amiri', serif; }
        .test-section { border: 2px solid #C41E3A; padding: 20px; margin: 20px 0; border-radius: 10px; }
        .test-pass { background-color: #d4edda; border-color: #28a745; }
        .test-fail { background-color: #f8d7da; border-color: #dc3545; }
        code { background-color: #f5f1e8; padding: 5px 10px; border-radius: 5px; }
    </style>
</head>
<body class="bg-warm-beige p-6">
    <div class="max-w-4xl mx-auto">
        <h1 class="text-4xl font-bold text-primary-red mb-8 text-center">ğŸ§ª Ø§Ø®ØªØ¨Ø§Ø± Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©</h1>
        
        <!-- Test 1: Check Auth System -->
        <div class="test-section">
            <h2 class="text-2xl font-bold mb-4">âœ… Ø§Ø®ØªØ¨Ø§Ø± 1: Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©</h2>
            <p>Ù‡Ù„ ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ù…Ù„Ù <code>auth.js</code> Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­ØŸ</p>
            <button onclick="testAuthLoaded()" class="bg-primary-red text-white px-4 py-2 rounded-lg mt-4">Ø§Ø®ØªØ¨Ø±</button>
            <div id="test-1-result" class="mt-4"></div>
        </div>
        
        <!-- Test 2: Check Login Credentials -->
        <div class="test-section">
            <h2 class="text-2xl font-bold mb-4">âœ… Ø§Ø®ØªØ¨Ø§Ø± 2: Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª</h2>
            <p>Ù‡Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ© Ù…ÙˆØ¬ÙˆØ¯Ø©ØŸ</p>
            <button onclick="testAllCredentials()" class="bg-primary-red text-white px-4 py-2 rounded-lg mt-4">Ø§Ø®ØªØ¨Ø±</button>
            <div id="test-2-result" class="mt-4"></div>
        </div>
        
        <!-- Test 3: Check Connections -->
        <div class="test-section">
            <h2 class="text-2xl font-bold mb-4">âœ… Ø§Ø®ØªØ¨Ø§Ø± 3: Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø¨ÙŠÙ† Ø§Ù„Ø£Ø¯ÙˆØ§Ø±</h2>
            <p>Ù‡Ù„ Ù†Ø¸Ø§Ù… Ø§Ù„Ø±Ø¨Ø· ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­ØŸ</p>
            <button onclick="testConnections()" class="bg-primary-red text-white px-4 py-2 rounded-lg mt-4">Ø§Ø®ØªØ¨Ø±</button>
            <div id="test-3-result" class="mt-4"></div>
        </div>
        
        <!-- Test 4: Test Login Function -->
        <div class="test-section">
            <h2 class="text-2xl font-bold mb-4">âœ… Ø§Ø®ØªØ¨Ø§Ø± 4: Ø§Ø®ØªØ¨Ø§Ø± Ø¹Ù…Ù„ÙŠØ© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
            <p>Ø¬Ø±Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ø±Ø³Ø§Ø¦Ù„ Ø®Ø·Ø£ Ù…Ø­ØªÙ…Ù„Ø©</p>
            <div class="space-y-4 mt-4">
                <button onclick="testLoginFail()" class="bg-secondary-red text-white px-4 py-2 rounded-lg">Ø§Ø®ØªØ¨Ø± ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø®Ø§Ø·Ø¦Ø©</button>
                <button onclick="testLoginSuccess()" class="bg-green-500 text-white px-4 py-2 rounded-lg">Ø§Ø®ØªØ¨Ø± ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ ØµØ­ÙŠØ­</button>
            </div>
            <div id="test-4-result" class="mt-4"></div>
        </div>
        
        <!-- Test 5: Check Connected Users -->
        <div class="test-section">
            <h2 class="text-2xl font-bold mb-4">âœ… Ø§Ø®ØªØ¨Ø§Ø± 5: Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ù…Ø±ØªØ¨Ø·ÙŠÙ†</h2>
            <p>Ø§Ø®ØªØ¨Ø± Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ù…Ø±ØªØ¨Ø·ÙŠÙ† Ù„ÙƒÙ„ Ø¯ÙˆØ±</p>
            <button onclick="testConnectedUsers()" class="bg-primary-red text-white px-4 py-2 rounded-lg mt-4">Ø§Ø®ØªØ¨Ø±</button>
            <div id="test-5-result" class="mt-4 max-h-96 overflow-y-auto"></div>
        </div>
        
        <!-- Test 6: Search Users -->
        <div class="test-section">
            <h2 class="text-2xl font-bold mb-4">âœ… Ø§Ø®ØªØ¨Ø§Ø± 6: Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</h2>
            <p>Ø§Ø®ØªØ¨Ø± ÙˆØ¸ÙŠÙØ© Ø§Ù„Ø¨Ø­Ø«</p>
            <div class="mt-4">
                <input type="text" id="search-input" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ø³Ù… Ù…Ø³ØªØ®Ø¯Ù…..." class="border-2 border-primary-red px-4 py-2 rounded-lg w-full">
                <button onclick="testSearch()" class="bg-primary-red text-white px-4 py-2 rounded-lg mt-2">Ø¨Ø­Ø«</button>
            </div>
            <div id="test-6-result" class="mt-4"></div>
        </div>
        
        <!-- Test 7: LocalStorage -->
        <div class="test-section">
            <h2 class="text-2xl font-bold mb-4">âœ… Ø§Ø®ØªØ¨Ø§Ø± 7: Ø§Ø®ØªØ¨Ø§Ø± localStorage</h2>
            <p>Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</p>
            <button onclick="testLocalStorage()" class="bg-primary-red text-white px-4 py-2 rounded-lg mt-4">Ø§Ø®ØªØ¨Ø±</button>
            <button onclick="clearLocalStorage()" class="bg-secondary-red text-white px-4 py-2 rounded-lg mt-4 mr-2">Ø§Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
            <div id="test-7-result" class="mt-4"></div>
        </div>
        
        <!-- Test 8: Role Info -->
        <div class="test-section">
            <h2 class="text-2xl font-bold mb-4">âœ… Ø§Ø®ØªØ¨Ø§Ø± 8: Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø£Ø¯ÙˆØ§Ø±</h2>
            <p>Ø¹Ø±Ø¶ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¯ÙˆØ§Ø±</p>
            <button onclick="testRoleInfo()" class="bg-primary-red text-white px-4 py-2 rounded-lg mt-4">Ø§Ø®ØªØ¨Ø±</button>
            <div id="test-8-result" class="mt-4"></div>
        </div>

        <!-- Quick Links -->
        <div class="test-section bg-soft-cream mt-8 text-center">
            <h2 class="text-2xl font-bold mb-4">ğŸ”— Ø±ÙˆØ§Ø¨Ø· Ø³Ø±ÙŠØ¹Ø©</h2>
            <div class="space-y-2">
                <p><a href="login.html" class="text-primary-red font-bold hover:underline">âœ Ø§Ù„Ø°Ù‡Ø§Ø¨ Ø¥Ù„Ù‰ ØµÙØ­Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</a></p>
                <p><a href="index.html" class="text-primary-red font-bold hover:underline">âœ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></p>
                <p><a href="dashboard.html" class="text-primary-red font-bold hover:underline">âœ Ø§Ù„Ø°Ù‡Ø§Ø¨ Ø¥Ù„Ù‰ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… (ÙŠØªØ·Ù„Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„)</a></p>
            </div>
        </div>
    </div>

    <script src="auth.js"></script>
    <script>
        // Test 1: Check if auth.js is loaded
        function testAuthLoaded() {
            const result = document.getElementById('test-1-result');
            if (typeof usersDatabase !== 'undefined' && typeof roleConnections !== 'undefined') {
                result.innerHTML = `<div class="test-pass p-4 rounded-lg"><strong>âœ… Ù†Ø¬Ø­!</strong> ØªÙ… ØªØ­Ù…ÙŠÙ„ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­</div>`;
            } else {
                result.innerHTML = `<div class="test-fail p-4 rounded-lg"><strong>âŒ ÙØ´Ù„!</strong> Ù„Ù… ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ù…Ù„Ù auth.js</div>`;
            }
        }

        // Test 2: Check all credentials
        function testAllCredentials() {
            const result = document.getElementById('test-2-result');
            const roles = ['mother', 'teacher', 'specialist', 'institution', 'researcher'];
            let html = '<div class="test-pass p-4 rounded-lg">';
            
            let total = 0;
            roles.forEach(role => {
                const usersInRole = Object.entries(usersDatabase).filter(([_, user]) => user.role === role);
                html += `<p><strong>${role}:</strong> ${usersInRole.length} Ø­Ø³Ø§Ø¨Ø§Øª</p>`;
                total += usersInRole.length;
            });
            
            html += `<p><strong>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹:</strong> ${total} Ø­Ø³Ø§Ø¨</p>`;
            html += '</div>';
            result.innerHTML = html;
        }

        // Test 3: Check connections
        function testConnections() {
            const result = document.getElementById('test-3-result');
            let html = '<div class="test-pass p-4 rounded-lg">';
            
            for (const [role, connections] of Object.entries(roleConnections)) {
                html += `<p><strong>${role}:</strong> ÙŠÙ…ÙƒÙ†Ù‡ Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ ${connections.join(', ')}</p>`;
            }
            
            html += '</div>';
            result.innerHTML = html;
        }

        // Test 4: Test login fail/success
        function testLoginFail() {
            const result = document.getElementById('test-4-result');
            const user = usersDatabase['fatima_01'];
            
            if (user && user.password !== 'wrongpassword') {
                result.innerHTML = `<div class="test-pass p-4 rounded-lg"><strong>âœ… ØµØ­ÙŠØ­!</strong> Ø³ÙŠØ±ÙØ¹ Ø±Ø³Ø§Ù„Ø© Ø®Ø·Ø£ Ø¹Ù†Ø¯ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø®Ø§Ø·Ø¦Ø©</div>`;
            }
        }

        function testLoginSuccess() {
            const result = document.getElementById('test-4-result');
            const user = usersDatabase['fatima_01'];
            
            if (user && user.password === 'pass123') {
                result.innerHTML = `<div class="test-pass p-4 rounded-lg"><strong>âœ… ØµØ­ÙŠØ­!</strong> ÙŠÙ…ÙƒÙ† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù€ fatima_01 / pass123</div>`;
            }
        }

        // Test 5: Connected users
        function testConnectedUsers() {
            const result = document.getElementById('test-5-result');
            let html = '<div class="test-pass p-4 rounded-lg">';
            
            const roles = ['mother', 'teacher', 'specialist'];
            roles.forEach(role => {
                const connectedUsers = getConnectedUsers(role);
                html += `<p><strong>${role} (${connectedUsers.length}):</strong></p>`;
                html += '<ul style="margin-right: 20px; list-style: circle;">';
                connectedUsers.forEach(user => {
                    html += `<li>${user.name} (${user.role})</li>`;
                });
                html += '</ul>';
            });
            
            html += '</div>';
            result.innerHTML = html;
        }

        // Test 6: Search users
        function testSearch() {
            const query = document.getElementById('search-input').value;
            const result = document.getElementById('test-6-result');
            
            const searchResults = searchUsers(query, false);
            
            if (searchResults.length > 0) {
                let html = `<div class="test-pass p-4 rounded-lg"><strong>âœ… ÙˆØ¬Ø¯Ù†Ø§ ${searchResults.length} Ù†ØªÙŠØ¬Ø©:</strong><ul style="margin-right: 20px; list-style: circle;">`;
                searchResults.forEach(user => {
                    html += `<li>${user.name} (${user.role}) - ${user.email}</li>`;
                });
                html += '</ul></div>';
                result.innerHTML = html;
            } else {
                result.innerHTML = `<div class="test-fail p-4 rounded-lg"><strong>âŒ Ù„Ù… Ù†Ø¬Ø¯ Ù†ØªØ§Ø¦Ø¬</strong></div>`;
            }
        }

        // Test 7: LocalStorage
        function testLocalStorage() {
            const result = document.getElementById('test-7-result');
            const user = usersDatabase['fatima_01'];
            
            saveUserSession('fatima_01', user);
            const saved = getCurrentUser();
            
            if (saved && saved.username === 'fatima_01') {
                result.innerHTML = `<div class="test-pass p-4 rounded-lg">
                    <strong>âœ… Ù†Ø¬Ø­!</strong>
                    <p>ØªÙ… Ø­ÙØ¸: ${saved.name}</p>
                    <p>Ø§Ù„Ø¯ÙˆØ±: ${saved.role}</p>
                </div>`;
            } else {
                result.innerHTML = `<div class="test-fail p-4 rounded-lg"><strong>âŒ ÙØ´Ù„ Ø§Ù„Ø­ÙØ¸</strong></div>`;
            }
        }

        function clearLocalStorage() {
            localStorage.removeItem('currentUser');
            document.getElementById('test-7-result').innerHTML = `<div class="test-pass p-4 rounded-lg"><strong>âœ… ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</strong></div>`;
        }

        // Test 8: Role info
        function testRoleInfo() {
            const result = document.getElementById('test-8-result');
            let html = '<div class="test-pass p-4 rounded-lg">';
            
            const roles = ['mother', 'teacher', 'specialist', 'institution', 'researcher'];
            roles.forEach(role => {
                const info = getRoleInfo(role);
                if (info) {
                    html += `<p><strong>${info.icon} ${info.label}:</strong> ${info.description}</p>`;
                }
            });
            
            html += '</div>';
            result.innerHTML = html;
        }
    </script>
</body>
</html>
